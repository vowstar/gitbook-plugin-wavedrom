<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="assets/skins/default.js" type="text/javascript"></script>
    <script src="assets/wavedrom.min.js" type="text/javascript"></script>
    <script>
      function render(code, config, width, height) {
        var canvas = document.getElementsByClassName("wave")[0];

        if (width) {
          canvas.style.width = width;
        }
        if (height) {
          canvas.style.height = height;
        }

        WaveDrom.RenderWaveForm(
          0,
          eval('(' + code + ')'),
          'display'
        );

        var svg = document.getElementsByTagName("svg")[0];
        var bbox = svg.getBBox();
        // bbox.width = bbox.width * 1.5;
        // bbox.height = bbox.height * 1.5;
        if (width) {
          bbox.width = width;
        }
        if (height) {
          bbox.height = height;
        }
        svg.setAttribute("width", bbox.x + bbox.width  + "px");
        svg.setAttribute("height",bbox.y + bbox.height + "px");
        // svg.setAttribute("viewBox","0 0 " + (bbox.x + bbox.width) + " " + (bbox.y + bbox.height) + "");

        return new XMLSerializer().serializeToString(canvas);
      }
    </script>
  </head>

  <body>
    <div class="wave">
      <div id="display0"></div>
    </div>
  </body>
</html>
